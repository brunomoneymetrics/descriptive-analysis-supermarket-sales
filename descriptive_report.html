<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="pt" xml:lang="pt"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Bruno Pereira">

<title>Relatório Descritivo de: Supermarket Sales Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="descriptive_report_files/libs/clipboard/clipboard.min.js"></script>
<script src="descriptive_report_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="descriptive_report_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="descriptive_report_files/libs/quarto-html/popper.min.js"></script>
<script src="descriptive_report_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="descriptive_report_files/libs/quarto-html/anchor.min.js"></script>
<link href="descriptive_report_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="descriptive_report_files/libs/quarto-html/quarto-syntax-highlighting-985aa47af68dae11cd4d235c71fb941e.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="descriptive_report_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="descriptive_report_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="descriptive_report_files/libs/bootstrap/bootstrap-bb462d781dde1847d9e3ccf7736099dd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-full">

<main class="content column-page" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Relatório Descritivo de: Supermarket Sales Data</h1>
</div>



<div class="quarto-title-meta column-page">

    <div>
    <div class="quarto-title-meta-heading">Autor</div>
    <div class="quarto-title-meta-contents">
             <p>Bruno Pereira </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<div class="grid">

</div>
<section id="descrição-do-conjunto-de-dados" class="level2">
<h2 class="anchored" data-anchor-id="descrição-do-conjunto-de-dados">Descrição do Conjunto de Dados</h2>
<p>O conjunto de dados utilizado neste estudo foi obtido do repositório público Kaggle, sob o título “Supermarket Sales Data”. Ele compreende 1.000 observações, coletadas por meio do registro automático de transações individuais realizadas em três filiais de uma rede de supermercados em Myanmar, localizadas nas cidades de Yangon, Naypyitaw e Mandalay. O método de coleta de dados está vinculado ao sistema de ponto de venda (PDV) do supermercado, que registra informações detalhadas de cada venda em tempo real.</p>
<p>O conjunto de dados representa uma amostra da população de consumidores atendidos pela rede de supermercados, incluindo variáveis que capturam características do cliente (gênero, tipo de cliente), do produto (linha de produto, preço unitário, quantidade), e da transação (data, horário, forma de pagamento, receita bruta, custo, lucro e avaliação do atendimento).</p>
<p>Este dataset foi escolhido porque oferece uma estrutura rica e variada de dados que permite a aplicação de métodos estatísticos descritivos, inferenciai.</p>
<p>:::</p>
<div class="grid">

</div>
</section>
<section id="variáveis" class="level2">
<h2 class="anchored" data-anchor-id="variáveis">Variáveis</h2>
<p>A variável de foco escolhida foi Sales, uma variável quantitativa contínua que representa o valor total de cada venda, incluindo impostos. Ela foi selecionada por ser a mais informativa no contexto do dataset. A partir dela, foram realizadas análises descritivas e comparativas em relação à filial, data e horário das transações, além do estudo de sua distribuição estatística e medidas resumo, como média, mediana, desvio-padrão, valores máximos e mínimos.</p>
<p>:::</p>
</section>
<section id="sales-vendas" class="level2 grid">
<h2 class="anchored" data-anchor-id="sales-vendas">Sales (Vendas)</h2>
</section>
<p>A análise mostrara que a mediana das vendas foi de 240,83 na filial Alex, 252,88 em Cairo e 271,42 em Giza. Isso indica que, na maioria das transações, a filial Giza tende a registrar valores de venda mais elevados do que as demais. A escolha da mediana como medida central se justifica pela assimetria positiva (Figura 1) observada nas três filiais (com coeficientes de assimetria superiores a 0), o que sugere a presença de valores extremos altos que poderiam distorcer a média. Um resumo estatístico pode ser observado na tabela 1 abaixo:</p>
<p><strong>Tabela 1 – Medidas descritivas da variável Sales por filial</strong></p>
<div id="8b53de14" class="cell" data-execution_count="1">
<div class="cell-output cell-output-display" data-execution_count="29">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">std</th>
<th data-quarto-table-cell-role="th">min</th>
<th data-quarto-table-cell-role="th">q1</th>
<th data-quarto-table-cell-role="th">median</th>
<th data-quarto-table-cell-role="th">q3</th>
<th data-quarto-table-cell-role="th">max</th>
<th data-quarto-table-cell-role="th">skew</th>
<th data-quarto-table-cell-role="th">kurtosis</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">Branch</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Alex</td>
<td>312.354031</td>
<td>231.640025</td>
<td>12.6945</td>
<td>137.489625</td>
<td>240.82800</td>
<td>459.340875</td>
<td>1039.29</td>
<td>0.905500</td>
<td>-0.003526</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Cairo</td>
<td>319.872506</td>
<td>242.447565</td>
<td>18.6375</td>
<td>119.936250</td>
<td>252.88200</td>
<td>465.585750</td>
<td>1022.49</td>
<td>0.888505</td>
<td>-0.158076</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Giza</td>
<td>337.099715</td>
<td>263.160870</td>
<td>10.6785</td>
<td>121.474500</td>
<td>271.41975</td>
<td>495.754875</td>
<td>1042.65</td>
<td>0.855874</td>
<td>-0.177354</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>:::</p>
<p><strong>Figura 1 – Distribuição das Vendas por filial</strong></p>
<div id="15d4e60c" class="cell" data-execution_count="2">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="descriptive_report_files/figure-html/cell-3-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>:::</p>
<p><strong>Figura 2 – Box-plot Total de vendas por filial</strong></p>
<div id="d0c425c5" class="cell" data-execution_count="3">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="descriptive_report_files/figure-html/cell-4-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>A exibição de múltiplos boxplots no mesmo gráfico é especialmente valiosa ao compararmos dados por categorias. Ao observar o gráfico, notamos que, embora a filial de Giza apresente a maior mediana, o tamanho das caixas indica que não há grande variabilidade nas vendas entre as diferentes filiais. Vale destacar ainda a presença de outliers nas filiais do Cairo e de Alex.</p>
<p>As vendas por linha de produtos também apresentam variações moderadas (Figura 3), com uma distribuição relativamente simétrica, embora algumas categorias, como Food and beverages e Fashion accessories, exibam valores extremos (outliers) que indicam transações pontualmente elevadas.</p>
<p>Quando analisamos as estatísticas por filial, observamos que a média de vendas varia de forma relevante entre os produtos e entre as localidades. Por exemplo, na filial do Cairo, a linha Health and beauty apresenta a maior média de vendas (≈ 377), com um desvio padrão elevado (≈ 260), indicando maior dispersão. Em Alex, a linha com maior média é Home and lifestyle (≈ 345), enquanto Giza apresenta um destaque em Food and beverages (≈ 360).</p>
<p>Essas diferenças sugerem a possibilidade de diferenças estatisticamente significativas entre as médias das filiais e/ou linhas de produtos — o que pode ser investigado com testes como ANOVA ou testes t para verificar se as diferenças são estatisticamente significativas.</p>
<p><strong>Tabela 2 – Medidas descritivas da variável Vendas por Linha de Produto</strong></p>
<div id="108d3569" class="cell" data-execution_count="4">
<div class="cell-output cell-output-display" data-execution_count="32">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">std</th>
<th data-quarto-table-cell-role="th">min</th>
<th data-quarto-table-cell-role="th">q1</th>
<th data-quarto-table-cell-role="th">median</th>
<th data-quarto-table-cell-role="th">q3</th>
<th data-quarto-table-cell-role="th">max</th>
<th data-quarto-table-cell-role="th">skew</th>
<th data-quarto-table-cell-role="th">kurtosis</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">Branch</th>
<th data-quarto-table-cell-role="th">Product line</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td rowspan="6" data-quarto-table-cell-role="th" data-valign="top">Alex</td>
<td data-quarto-table-cell-role="th">Electronic accessories</td>
<td>305.285225</td>
<td>246.411455</td>
<td>30.4080</td>
<td>101.490375</td>
<td>207.0705</td>
<td>442.622250</td>
<td>931.0350</td>
<td>0.931649</td>
<td>-0.305583</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Fashion accessories</td>
<td>320.245265</td>
<td>257.255822</td>
<td>12.6945</td>
<td>94.179750</td>
<td>277.6725</td>
<td>485.173500</td>
<td>1039.2900</td>
<td>0.764347</td>
<td>-0.181808</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Food and beverages</td>
<td>295.915526</td>
<td>205.761806</td>
<td>33.4320</td>
<td>165.193875</td>
<td>249.0705</td>
<td>356.346375</td>
<td>932.3370</td>
<td>1.272595</td>
<td>1.385670</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Health and beauty</td>
<td>268.037298</td>
<td>186.079373</td>
<td>19.2465</td>
<td>135.549750</td>
<td>217.1820</td>
<td>370.980750</td>
<td>752.6400</td>
<td>0.959075</td>
<td>0.336907</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Home and lifestyle</td>
<td>344.879931</td>
<td>246.511642</td>
<td>19.1940</td>
<td>147.672000</td>
<td>263.1300</td>
<td>493.794000</td>
<td>951.8250</td>
<td>0.722460</td>
<td>-0.490832</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Sports and travel</td>
<td>328.350839</td>
<td>235.076176</td>
<td>16.1070</td>
<td>148.527750</td>
<td>271.2780</td>
<td>465.990000</td>
<td>926.9505</td>
<td>0.846356</td>
<td>-0.015158</td>
</tr>
<tr class="odd">
<td rowspan="6" data-quarto-table-cell-role="th" data-valign="top">Cairo</td>
<td data-quarto-table-cell-role="th">Electronic accessories</td>
<td>310.026245</td>
<td>250.401657</td>
<td>26.7225</td>
<td>112.024500</td>
<td>225.0150</td>
<td>446.911500</td>
<td>942.4485</td>
<td>0.970151</td>
<td>-0.107516</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Fashion accessories</td>
<td>264.730911</td>
<td>203.755302</td>
<td>35.1960</td>
<td>111.389250</td>
<td>185.7555</td>
<td>380.354625</td>
<td>874.1250</td>
<td>1.156488</td>
<td>0.695796</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Food and beverages</td>
<td>304.297770</td>
<td>220.888774</td>
<td>56.4060</td>
<td>151.641000</td>
<td>234.8010</td>
<td>434.988750</td>
<td>888.6150</td>
<td>1.041767</td>
<td>0.319004</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Health and beauty</td>
<td>376.993585</td>
<td>259.566580</td>
<td>18.6375</td>
<td>145.971000</td>
<td>350.0700</td>
<td>565.215000</td>
<td>922.6350</td>
<td>0.454568</td>
<td>-0.790105</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Home and lifestyle</td>
<td>350.983290</td>
<td>267.137830</td>
<td>33.9360</td>
<td>120.652875</td>
<td>262.5840</td>
<td>507.176250</td>
<td>1022.4900</td>
<td>0.966572</td>
<td>-0.008772</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Sports and travel</td>
<td>322.390306</td>
<td>246.927203</td>
<td>34.6290</td>
<td>100.414125</td>
<td>275.3100</td>
<td>467.586000</td>
<td>944.6220</td>
<td>0.763114</td>
<td>-0.482010</td>
</tr>
<tr class="odd">
<td rowspan="6" data-quarto-table-cell-role="th" data-valign="top">Giza</td>
<td data-quarto-table-cell-role="th">Electronic accessories</td>
<td>344.890445</td>
<td>243.505198</td>
<td>31.7520</td>
<td>136.342500</td>
<td>272.5800</td>
<td>486.979500</td>
<td>864.5700</td>
<td>0.597486</td>
<td>-0.813673</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Fashion accessories</td>
<td>331.693385</td>
<td>265.166027</td>
<td>13.1670</td>
<td>125.055000</td>
<td>267.3405</td>
<td>472.311000</td>
<td>1042.6500</td>
<td>0.963063</td>
<td>0.283504</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Food and beverages</td>
<td>360.103864</td>
<td>293.862985</td>
<td>22.6590</td>
<td>94.626000</td>
<td>292.5405</td>
<td>553.392000</td>
<td>1034.4600</td>
<td>0.771506</td>
<td>-0.600750</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Health and beauty</td>
<td>319.525500</td>
<td>247.608362</td>
<td>32.2770</td>
<td>106.871625</td>
<td>275.6040</td>
<td>473.248125</td>
<td>950.2500</td>
<td>0.866047</td>
<td>-0.153341</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Home and lifestyle</td>
<td>308.790067</td>
<td>255.445086</td>
<td>14.6790</td>
<td>122.524500</td>
<td>206.7975</td>
<td>441.693000</td>
<td>1023.7500</td>
<td>1.213547</td>
<td>0.997403</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Sports and travel</td>
<td>350.265067</td>
<td>271.062493</td>
<td>10.6785</td>
<td>132.562500</td>
<td>266.0280</td>
<td>517.965000</td>
<td>1002.1200</td>
<td>0.799788</td>
<td>-0.171545</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>::::</p>
<p><strong>Figura 3 – Box-plot variável Vendas por Linha de Produto</strong></p>
<div id="ad986a3f" class="cell" data-execution_count="5">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="descriptive_report_files/figure-html/cell-6-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div class="grid">

</div>
<section id="vendas-e-no-tempo" class="level2">
<h2 class="anchored" data-anchor-id="vendas-e-no-tempo">Vendas e no Tempo</h2>
<p>Após explorarmos as diferenças entre filiais e linhas de produtos por meio de boxplots e estatísticas descritivas, investigamos como o comportamento das vendas evolui ao longo do tempo. A figura 4 mostra as vendas diárias ao longo dos três primeiros meses de 2019, juntamente com uma média móvel de 7 dias. A linha fina (em tom claro) representa a série original de vendas diárias, que apresenta alta volatilidade, típica do varejo. Já a linha espessa em vermelho corresponde à média móvel, que suaviza as oscilações e revela uma tendência mais clara no comportamento das vendas. A tendência observada indica um desempenho relativamente estável ao longo do período, apesar das flutuações diárias.</p>
<p><strong>Figura 4 – Vendas ao longo do tempo</strong></p>
<div id="518a0e5d" class="cell" data-execution_count="6">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="descriptive_report_files/figure-html/cell-7-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Por fim, foi investigado padrões de comportamento ao longo da semana e do dia. A figura 5 revela que as vendas se concentram principalmente entre 11h e 17h, com destaque para a terça-feira às 15h e o sábado às 14h, momentos em que são registrados os picos mais altos de movimentação, ambos ultrapassando 480 transações. Como era de se esperar, os finais de semana — especialmente sábado e domingo — concentram um grande volume de vendas, sobretudo no final da manhã e início da tarde. Entre os dias úteis, quinta e sexta-feira também se destacam com horários de pico, sugerindo um aumento da demanda à medida que a semana se aproxima do fim. Em contrapartida, horários como 10h ou após as 19h tendem a registrar menor atividade, embora ocorram alguns picos isolados nesses intervalos.</p>
<p><strong>Figura 5 – Heatmap de Vendas: Dia da Semana x Hora do Dia</strong></p>
<div id="af9f99cb" class="cell" data-execution_count="7">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="descriptive_report_files/figure-html/cell-8-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>::::</p>
<div class="grid">

</div>
</section>
<section id="conclusão" class="level2">
<h2 class="anchored" data-anchor-id="conclusão">Conclusão</h2>
<p>A análise descritiva do conjunto de dados de vendas do supermercado revelou que as transações não apresentam variações significativas entre as filiais. A distribuição de vendas nas três filiais é assimétrica á direita, com a presença de outliers em Cairo e Alex. As vendas por linha de produto mostraram variações, especialmente em categorias como Food and Beverages e Fashion Accessories, que possuem maiores desvios padrões e outliers. A análise temporal indicou que, embora as vendas diárias apresentem flutuações, a tendência geral é estável, com as vendas concentradas entre 11h e 17h, especialmente nos finais de semana e no final da tarde durante a semana.</p>
<p>::::</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copiada");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copiada");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>